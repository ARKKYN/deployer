$.ajaxPrefilter(function(e,t,a){a.setRequestHeader("X-CSRF-Token",$('meta[name="token"]').attr("content"))}),function(e){}(jQuery);var app=app||{};!function(e){e(".deployment-source:radio").on("change",function(t){var a=e(t.currentTarget);e("input[type=text].deployment-source").hide(),"branch"===a.val()?e("#deployment_branch").show():"tag"===a.val()&&e("#deployment_tag").show()}),e("#reason").on("show.bs.modal",function(t){var a=e(this);e(".callout-danger",a).hide()}),e("#reason button.btn-save").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal"),n=e("input[name=source]:checked").val();return e(".has-error",n).removeClass("has-error"),"branch"!==n&&"tag"!==n||""!==e("#deployment_"+n).val()?(s.addClass("fa-refresh fa-spin").removeClass("fa-save"),void e("button.close",i).hide()):(e("#deployment_"+n).parentsUntil("div").addClass("has-error"),e(".callout-danger",i).show(),void t.stopPropagation())}),e("#project").on("show.bs.modal",function(t){var a=e(t.relatedTarget),s=e(this),i=Lang.create;e(".btn-danger",s).hide(),e(".callout-danger",s).hide(),e(".has-error",s).removeClass("has-error"),a.hasClass("btn-edit")?(i=Lang.edit,e(".btn-danger",s).show()):(e("#project_id").val(""),e("#project_name").val(""),e("#project_repository").val(""),e("#project_branch").val("master"),e("#project_group_id").val(e("#project_group_id option:first").val()),e("#project_builds_to_keep").val(10),e("#project_url").val(""),e("#project_build_url").val("")),s.find(".modal-title span").text(i)}),e("#project button.btn-delete").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-trash"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=app.Projects.get(e("#project_id").val());n.destroy({wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),app.Projects.remove(n)},error:function(){s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),e("#project button.btn-save").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-save"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=e("#project_id").val();if(n)var o=app.Projects.get(n);else var o=new app.Project;o.save({name:e("#project_name").val(),repository:e("#project_repository").val(),branch:e("#project_branch").val(),group_id:e("#project_group_id").val(),builds_to_keep:e("#project_builds_to_keep").val(),url:e("#project_url").val(),build_url:e("#project_build_url").val()},{wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),n||app.Projects.add(a)},error:function(t,a,n){e(".callout-danger",i).show();var o=a.responseJSON;e("form input",i).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),app.Project=Backbone.Model.extend({urlRoot:"/admin/projects",poller:!1,initialize:function(){}});var t=Backbone.Collection.extend({model:app.Project});app.Projects=new t,app.ProjectsTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$list=e("#project_list tbody"),e("#project_list").hide(),e("#no_projects").show(),this.listenTo(app.Projects,"add",this.addOne),this.listenTo(app.Projects,"reset",this.addAll),this.listenTo(app.Projects,"all",this.render)},render:function(){app.Projects.length?(e("#no_projects").hide(),e("#project_list").show()):(e("#no_projects").show(),e("#project_list").hide())},addOne:function(e){var t=new app.ProjectView({model:e});this.$list.append(t.render().el)},addAll:function(){this.$list.html(""),app.Projects.each(this.addOne,this)}}),app.ProjectView=Backbone.View.extend({tagName:"tr",events:{"click .btn-edit":"editProject"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#project-template").html())},render:function(){var e=this.model.toJSON();return e.deploy=e.last_run?moment(e.last_run).format("Do MMM YYYY h:mm:ss A"):!1,this.$el.html(this.template(e)),this},editProject:function(){e("#project_id").val(this.model.id),e("#project_name").val(this.model.get("name")),e("#project_repository").val(this.model.get("repository")),e("#project_branch").val(this.model.get("branch")),e("#project_group_id").val(this.model.get("group_id")),e("#project_builds_to_keep").val(this.model.get("builds_to_keep")),e("#project_url").val(this.model.get("url")),e("#project_build_url").val(this.model.get("build_url"))}}),e("#new_webhook").on("click",function(t){var a=e(t.currentTarget),s=a.data("project-id"),i=e("i",a);e(".fa-spin",a).length>0||(a.attr("disabled","disabled"),i.addClass("fa-spin"),e.ajax({type:"GET",url:"/webhook/"+s+"/refresh"}).fail(function(e){}).done(function(t){e("#webhook").html(t.url)}).always(function(){i.removeClass("fa-spin"),a.removeAttr("disabled")}))})}(jQuery);var app=app||{};!function(e){var t=0,a=2,s=3;e("#server").on("show.bs.modal",function(t){var a=e(t.relatedTarget),s=e(this),i=Lang.servers.create;e(".btn-danger",s).hide(),e(".callout-danger",s).hide(),e(".has-error",s).removeClass("has-error"),a.hasClass("btn-edit")?(i=Lang.servers.edit,e(".btn-danger",s).show()):(e("#server_id").val(""),e("#server_name").val(""),e("#server_address").val(""),e("#server_port").val("22"),e("#server_user").val(""),e("#server_path").val(""),e("#server_deploy_code").prop("checked",!0)),s.find(".modal-title span").text(i)}),e("#server button.btn-delete").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-trash"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=app.Servers.get(e("#server_id").val());n.destroy({wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),app.Servers.remove(n)},error:function(){s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),e("#server button.btn-save").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-save"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=e("#server_id").val();if(n)var o=app.Servers.get(n);else var o=new app.Server;o.save({name:e("#server_name").val(),ip_address:e("#server_address").val(),port:e("#server_port").val(),user:e("#server_user").val(),path:e("#server_path").val(),deploy_code:e("#server_deploy_code").is(":checked"),project_id:e('input[name="project_id"]').val()},{wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),n||app.Servers.add(a)},error:function(t,a,n){e(".callout-danger",i).show();var o=a.responseJSON;e("form input",i).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),app.Server=Backbone.Model.extend({urlRoot:"/servers",poller:!1,initialize:function(){this.on("change:status",this.changeStatus,this),this.changeStatus()},changeStatus:function(){if(parseInt(this.get("status"))===s){var t=this;e.ajax({type:"GET",url:this.urlRoot+"/"+this.id+"/test"}).fail(function(e){t.set({status:a})}).success(function(){t.poller=Backbone.Poller.get(t,{condition:function(e){return parseInt(e.get("status"))===s},delay:2500}),t.poller.start()})}}});var i=Backbone.Collection.extend({model:app.Server,comparator:function(e,t){return e.get("name")>t.get("name")?-1:e.get("name")<t.get("name")?1:0}});app.Servers=new i,app.ServersTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$list=e("#server_list tbody"),e("#no_servers").show(),e("#server_list").hide(),this.listenTo(app.Servers,"add",this.addOne),this.listenTo(app.Servers,"reset",this.addAll),this.listenTo(app.Servers,"all",this.render)},render:function(){app.Servers.length?(e("#no_servers").hide(),e("#server_list").show()):(e("#no_servers").show(),e("#server_list").hide())},addOne:function(e){var t=new app.ServerView({model:e});this.$list.append(t.render().el)},addAll:function(){this.$list.html(""),app.Servers.each(this.addOne,this)}}),app.ServerView=Backbone.View.extend({tagName:"tr",events:{"click .btn-test":"testConnection","click .btn-edit":"editServer"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#server-template").html())},render:function(){var e=this.model.toJSON();return e.status_css="primary",e.icon_css="question",e.status=Lang.servers.status.untested,parseInt(this.model.get("status"))===t?(e.status_css="success",e.icon_css="check",e.status=Lang.servers.status.successful):parseInt(this.model.get("status"))===s?(e.status_css="warning",e.icon_css="spinner fa-pulse",e.status=Lang.servers.status.testing):parseInt(this.model.get("status"))===a&&(e.status_css="danger",e.icon_css="warning",e.status=Lang.servers.status.failed),this.$el.html(this.template(e)),this},editServer:function(){e("#server_id").val(this.model.id),e("#server_name").val(this.model.get("name")),e("#server_address").val(this.model.get("ip_address")),e("#server_port").val(this.model.get("port")),e("#server_user").val(this.model.get("user")),e("#server_path").val(this.model.get("path")),e("#server_deploy_code").prop("checked",this.model.get("deploy_code")===!0)},testConnection:function(){parseInt(this.model.get("status"))!==s&&this.model.set({status:s})}})}(jQuery);var app=app||{};!function(e){var t=0,a=2;e("#heartbeat").on("show.bs.modal",function(t){var a=e(t.relatedTarget),s=e(this),i=Lang.heartbeats.create;e(".btn-danger",s).hide(),e(".callout-danger",s).hide(),e(".has-error",s).removeClass("has-error"),a.hasClass("btn-edit")?(i=Lang.heartbeats.edit,e(".btn-danger",s).show()):(e("#heartbeat_id").val(""),e("#heartbeat_name").val(""),e("#heartbeat_interval_30").prop("checked",!0)),s.find(".modal-title span").text(i)}),e("#heartbeat button.btn-delete").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-trash"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=app.Heartbeats.get(e("#heartbeat_id").val());n.destroy({wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),app.Heartbeats.remove(n)},error:function(){s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),e("#heartbeat button.btn-save").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-save"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=e("#heartbeat_id").val();if(n)var o=app.Heartbeats.get(n);else var o=new app.Heartbeat;o.save({name:e("#heartbeat_name").val(),interval:parseInt(e("input[name=interval]:checked").val()),project_id:e('input[name="project_id"]').val()},{wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),n||app.Heartbeats.add(a)},error:function(t,a,n){e(".callout-danger",i).show();var o=a.responseJSON;e("form input",i).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),app.Heartbeat=Backbone.Model.extend({urlRoot:"/heartbeats",poller:!1});var s=Backbone.Collection.extend({model:app.Heartbeat,comparator:function(e,t){return e.get("name")>t.get("name")?-1:e.get("name")<t.get("name")?1:0}});app.Heartbeats=new s,app.HeartbeatsTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$list=e("#heartbeat_list tbody"),e("#no_heartbeats").show(),e("#heartbeat_list").hide(),this.listenTo(app.Heartbeats,"add",this.addOne),this.listenTo(app.Heartbeats,"reset",this.addAll),this.listenTo(app.Heartbeats,"all",this.render)},render:function(){app.Heartbeats.length?(e("#no_heartbeats").hide(),e("#heartbeat_list").show()):(e("#no_heartbeats").show(),e("#heartbeat_list").hide())},addOne:function(e){var t=new app.HeartbeatView({model:e});this.$list.append(t.render().el)},addAll:function(){this.$list.html(""),app.Heartbeats.each(this.addOne,this)}}),app.HeartbeatView=Backbone.View.extend({tagName:"tr",events:{"click .btn-edit":"editHeartbeat"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#heartbeat-template").html())},render:function(){var e=this.model.toJSON();return e.status_css="primary",e.icon_css="question",e.status=Lang.heartbeats.status.untested,e.has_run=!1,parseInt(this.model.get("status"))===t?(e.status_css="success",e.icon_css="check",e.status=Lang.heartbeats.status.ok,e.has_run=!0):parseInt(this.model.get("status"))===a&&(e.status_css="danger",e.icon_css="warning",e.status=Lang.heartbeats.status.missing,e.has_run=e.last_activity?!0:!1),e.interval_label=Lang.heartbeats.intervals[e.interval],e.formatted_date="",e.has_run&&(e.formatted_date=moment(e.last_activity).format("Do MMM YYYY h:mm:ss A")),this.$el.html(this.template(e)),this},editHeartbeat:function(){e("#heartbeat_id").val(this.model.id),e("#heartbeat_name").val(this.model.get("name")),e("#heartbeat_interval_"+this.model.get("interval")).prop("checked",!0)}})}(jQuery);var app=app||{};!function(e){e("#notification").on("show.bs.modal",function(t){var a=e(t.relatedTarget),s=e(this),i=Lang.notifications.create;e(".btn-danger",s).hide(),e(".callout-danger",s).hide(),e(".has-error",s).removeClass("has-error"),a.hasClass("btn-edit")?(i=Lang.notifications.edit,e(".btn-danger",s).show()):(e("#notification_id").val(""),e("#notification_name").val(""),e("#notification_webhook").val(""),e("#notification_channel").val(""),e("#notification_icon").val("")),s.find(".modal-title span").text(i)}),e("#notification button.btn-delete").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-trash"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=app.Notifications.get(e("#notification_id").val());n.destroy({wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),app.Notifications.remove(n)},error:function(){s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),e("#notification button.btn-save").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-save"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=e("#notification_id").val();if(n)var o=app.Notifications.get(n);else var o=new app.Notification;o.save({name:e("#notification_name").val(),webhook:e("#notification_webhook").val(),channel:e("#notification_channel").val(),icon:e("#notification_icon").val(),project_id:e('input[name="project_id"]').val()},{wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),n||app.Notifications.add(a)},error:function(t,a,n){e(".callout-danger",i).show();var o=a.responseJSON;e("form input",i).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),app.Notification=Backbone.Model.extend({urlRoot:"/notifications",poller:!1});var t=Backbone.Collection.extend({model:app.Notification});app.Notifications=new t,app.NotificationsTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$list=e("#notification_list tbody"),e("#no_notifications").show(),e("#notification_list").hide(),this.listenTo(app.Notifications,"add",this.addOne),this.listenTo(app.Notifications,"reset",this.addAll),this.listenTo(app.Notifications,"all",this.render)},render:function(){app.Notifications.length?(e("#no_notifications").hide(),e("#notification_list").show()):(e("#no_notifications").show(),e("#notification_list").hide())},addOne:function(e){var t=new app.NotificationView({model:e});this.$list.append(t.render().el)},addAll:function(){this.$list.html(""),app.Notifications.each(this.addOne,this)}}),app.NotificationView=Backbone.View.extend({tagName:"tr",events:{"click .btn-edit":"editNotification"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#notification-template").html())},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this},editNotification:function(){e("#notification_id").val(this.model.id),e("#notification_name").val(this.model.get("name")),e("#notification_webhook").val(this.model.get("webhook")),e("#notification_channel").val(this.model.get("channel")),e("#notification_icon").val(this.model.get("icon"))}})}(jQuery);var app=app||{};!function(e){e("#notifyemail").on("show.bs.modal",function(t){var a=e(t.relatedTarget),s=e(this),i=Lang.notifyEmails.create;e(".btn-danger",s).hide(),e(".callout-danger",s).hide(),e(".has-error",s).removeClass("has-error"),a.hasClass("btn-edit")?(i=Lang.notifyEmails.edit,e(".btn-danger",s).show()):(e("#notifyemail_id").val(""),e("#notifyemail_name").val(""),e("#notifyemail_address").val("")),s.find(".modal-title span").text(i)}),e("#notifyemail button.btn-delete").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-trash"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=app.NotifyEmails.get(e("#notifyemail_id").val());n.destroy({wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),app.NotifyEmails.remove(n)},error:function(){s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),e("#notifyemail button.btn-save").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-save"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=e("#notifyemail_id").val();if(n)var o=app.NotifyEmails.get(n);else var o=new app.NotifyEmail;o.save({name:e("#notifyemail_name").val(),email:e("#notifyemail_address").val(),project_id:e('input[name="project_id"]').val()},{wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),n||app.NotifyEmails.add(a)},error:function(t,a,n){e(".callout-danger",i).show();var o=a.responseJSON;e("form input",i).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),app.NotifyEmail=Backbone.Model.extend({urlRoot:"/notify-email",poller:!1});var t=Backbone.Collection.extend({model:app.NotifyEmail});app.NotifyEmails=new t,app.NotifyEmailsTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$list=e("#notifyemail_list tbody"),e("#no_notifyemails").show(),e("#notifyemail_list").hide(),this.listenTo(app.NotifyEmails,"add",this.addOne),this.listenTo(app.NotifyEmails,"reset",this.addAll),this.listenTo(app.NotifyEmails,"all",this.render)},render:function(){app.NotifyEmails.length?(e("#no_notifyemails").hide(),e("#notifyemail_list").show()):(e("#no_notifyemails").show(),e("#notifyemail_list").hide())},addOne:function(e){var t=new app.EmailView({model:e});this.$list.append(t.render().el)},addAll:function(){this.$list.html(""),app.NotifyEmails.each(this.addOne,this)}}),app.EmailView=Backbone.View.extend({tagName:"tr",events:{"click .btn-edit":"editEmail"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#notifyemail-template").html())},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this},editEmail:function(){e("#notifyemail_id").val(this.model.id),e("#notifyemail_name").val(this.model.get("name")),e("#notifyemail_address").val(this.model.get("email"))}})}(jQuery);var app=app||{};!function(e){e("#sharefile").on("show.bs.modal",function(t){var a=e(t.relatedTarget),s=e(this),i=Lang.sharedFiles.create;e(".btn-danger",s).hide(),e(".callout-danger",s).hide(),e(".has-error",s).removeClass("has-error"),a.hasClass("btn-edit")?(i=Lang.sharedFiles.edit,e(".btn-danger",s).show()):(e("#file_id").val(""),e("#name").val(""),e("#file").val("")),s.find(".modal-title span").text(i)}),e("#sharefile button.btn-delete").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-trash"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=app.SharedFiles.get(e("#file_id").val());n.destroy({wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),app.SharedFiles.remove(n)},error:function(){s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),e("#sharefile button.btn-save").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-save"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=e("#file_id").val();if(n)var o=app.SharedFiles.get(n);else var o=new app.SharedFile;o.save({name:e("#name").val(),file:e("#file").val(),project_id:e('input[name="project_id"]').val()},{wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),n||app.SharedFiles.add(a)},error:function(t,a,n){e(".callout-danger",i).show();var o=a.responseJSON;e("form input",i).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),app.SharedFile=Backbone.Model.extend({urlRoot:"/shared-files",poller:!1});var t=Backbone.Collection.extend({model:app.SharedFile});app.SharedFiles=new t,app.SharedFilesTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$list=e("#file_list tbody"),e("#no_files").show(),e("#file_list").hide(),this.listenTo(app.SharedFiles,"add",this.addOne),this.listenTo(app.SharedFiles,"reset",this.addAll),this.listenTo(app.SharedFiles,"all",this.render)},render:function(){app.SharedFiles.length?(e("#no_files").hide(),e("#file_list").show()):(e("#no_files").show(),e("#file_list").hide())},addOne:function(e){var t=new app.FileView({model:e});this.$list.append(t.render().el)},addAll:function(){this.$list.html(""),app.SharedFiles.each(this.addOne,this)}}),app.FileView=Backbone.View.extend({tagName:"tr",events:{"click .btn-edit":"editFile"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#files-template").html())},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this},editFile:function(){e("#file_id").val(this.model.id),e("#name").val(this.model.get("name")),e("#file").val(this.model.get("file"))}})}(jQuery);var app=app||{};!function(e){var t,a;e("#projectfile, #view-projectfile").on("hidden.bs.modal",function(e){t.destroy()}),e("#view-projectfile").on("show.bs.modal",function(e){t=ace.edit("preview-content"),t.setReadOnly(!0),t.getSession().setUseWrapMode(!0);var s=a.substr(a.lastIndexOf(".")+1).toLowerCase();"php"===s||"ini"===s?t.getSession().setMode("ace/mode/"+s):"yml"===s&&t.getSession().setMode("ace/mode/yaml")}),e("#projectfile").on("show.bs.modal",function(a){var s=e(a.relatedTarget),i=e(this),n=Lang.projectFiles.create;t=ace.edit("project-file-content");var o=e("#project-file-path").val(),r=o.substr(o.lastIndexOf(".")+1).toLowerCase();"php"===r||"ini"===r?t.getSession().setMode("ace/mode/"+r):"yml"===r&&t.getSession().setMode("ace/mode/yaml"),e(".btn-danger",i).hide(),e(".callout-danger",i).hide(),e(".has-error",i).removeClass("has-error"),s.hasClass("btn-edit")?(n=Lang.projectFiles.edit,e(".btn-danger",i).show()):(e("#project_file_id").val(""),e("#project-file-name").val(""),e("#project-file-path").val(""),t.setValue(""),t.gotoLine(1)),i.find(".modal-title span").text(n)}),e("#projectfile button.btn-delete").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-trash"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=app.ProjectFiles.get(e("#project_file_id").val());n.destroy({wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),app.ProjectFiles.remove(n)},error:function(){s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),e("#projectfile button.btn-save").on("click",function(a){var s=e(a.currentTarget),i=s.find("i"),n=s.parents(".modal");i.addClass("fa-refresh fa-spin").removeClass("fa-save"),n.find("input").attr("disabled","disabled"),e("button.close",n).hide();var o=e("#project_file_id").val();if(o)var r=app.ProjectFiles.get(o);else var r=new app.ProjectFile;r.save({name:e("#project-file-name").val(),path:e("#project-file-path").val(),content:t.getValue(),project_id:e('input[name="project_id"]').val()},{wait:!0,success:function(a,s,r){n.modal("hide"),e(".callout-danger",n).hide(),i.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",n).show(),n.find("input").removeAttr("disabled"),o||app.ProjectFiles.add(s),t.setValue(""),t.gotoLine(1)},error:function(t,a,s){e(".callout-danger",n).show();var o=a.responseJSON;e("form input",n).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),i.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",n).show(),n.find("input").removeAttr("disabled")}})}),app.ProjectFile=Backbone.Model.extend({urlRoot:"/project-file",poller:!1});var s=Backbone.Collection.extend({model:app.ProjectFile});app.ProjectFiles=new s,app.ProjectFilesTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$list=e("#projectfile_list tbody"),e("#no_projectfiles").show(),e("#projectfile_list").hide(),this.listenTo(app.ProjectFiles,"add",this.addOne),this.listenTo(app.ProjectFiles,"reset",this.addAll),this.listenTo(app.ProjectFiles,"all",this.render)},render:function(){app.ProjectFiles.length?(e("#no_projectfiles").hide(),e("#projectfile_list").show()):(e("#no_projectfiles").show(),e("#projectfile_list").hide())},addOne:function(e){var t=new app.ProjectFileView({model:e});this.$list.append(t.render().el)},addAll:function(){this.$list.html(""),app.ProjectFiles.each(this.addOne,this)}}),app.ProjectFileView=Backbone.View.extend({tagName:"tr",events:{"click .btn-edit":"editFile","click .btn-view":"viewFile"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#project-files-template").html())},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this},viewFile:function(){a=this.model.get("path"),e("#preview-content").text(this.model.get("content"))},editFile:function(){e("#project_file_id").val(this.model.id),e("#project-file-name").val(this.model.get("name")),e("#project-file-path").val(this.model.get("path")),e("#project-file-content").text(this.model.get("content"))}})}(jQuery);var app=app||{};!function(e){var t=0,a=1,s=2,i=3,n=4;e("#log").on("show.bs.modal",function(t){var a=e(t.relatedTarget),s=a.attr("id").replace("log_",""),i=e("h3 span",a.parents(".box")).text(),n=e(this),o=e("pre",n),r=e("#loading",n);o.hide(),r.show(),e("#action",n).text(i),o.text(""),e.ajax({type:"GET",url:"/log/"+s}).done(function(e){var t=e.output;t=t.replace(/<\/error>/g,"</span>"),t=t.replace(/<\/info>/g,"</span>"),t=t.replace(/<error>/g,'<span class="text-red">'),t=t.replace(/<info>/g,'<span class="text-default">'),o.html(t),o.show(),r.hide()}).fail(function(){}).always(function(){})});var o=!1;app.ServerLog=Backbone.Model.extend({urlRoot:"/status",poller:!1,initialize:function(){this.on("change:status",this.changeStatus,this),this.changeStatus()},changeStatus:function(){var r=!1;if(parseInt(this.get("status"))===a?this.get("first")===!0&&(r=!0):parseInt(this.get("status"))===s&&(r=!0),r){o=!0;var l=this;e.ajax({type:"GET",url:this.urlRoot+"/"+this.id}).fail(function(e){l.set({status:i})}).success(function(){l.poller=Backbone.Poller.get(l,{condition:function(e){var i=parseInt(e.get("status"))===s;if(parseInt(e.get("status"))===a&&e.get("first")===!0&&(i=!0),parseInt(e.get("status"))===t){var n=_.find(app.Deployment.models,function(e){return parseInt(e.get("status"))===a});return n&&n.set({status:s}),!1}return o=i,i},delay:1e3}),l.poller.start()})}else(parseInt(this.get("status"))===i||parseInt(this.get("status"))===n)&&_.each(app.Deployment.models,function(e){parseInt(e.get("status"))===a&&e.set({status:n})})}});var r=Backbone.Collection.extend({model:app.ServerLog});app.Deployment=new r,app.DeploymentView=Backbone.View.extend({el:"#app",$containers:[],events:{},initialize:function(){var t=this;e(".deploy-step tbody").each(function(a,s){t.$containers.push({step:parseInt(e(s).attr("id").replace("step_","")),element:s})}),this.listenTo(app.Deployment,"add",this.addOne),this.listenTo(app.Deployment,"reset",this.addAll),this.listenTo(app.Deployment,"all",this.render)},addOne:function(t){var a=new app.LogView({model:t}),s=_.find(this.$containers,function(e){return parseInt(e.step)===parseInt(t.get("deploy_step_id"))});e(s.element).append(a.render().el)},addAll:function(){e(this.$containers).each(function(e,t){t.html("")}),app.Commands.each(this.addOne,this)}}),app.LogView=Backbone.View.extend({tagName:"tr",events:{},
initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#log-template").html())},render:function(){var e=this.model.toJSON();return e.status_css="info",e.icon_css="clock-o",e.status=Lang.status.pending,parseInt(this.model.get("status"))===t?(e.status_css="success",e.icon_css="check",e.status=Lang.status.completed):parseInt(this.model.get("status"))===s?(e.status_css="warning",e.icon_css="spinner fa-spin",e.status=Lang.status.running):(parseInt(this.model.get("status"))===i||parseInt(this.model.get("status"))===n)&&(e.status_css="danger",e.icon_css="warning",e.status=Lang.status.failed,parseInt(this.model.get("status"))===n&&(e.status=Lang.status.cancelled)),e.formatted_start_time=e.started_at?moment(e.started_at).format("h:mm:ss A"):!1,e.formatted_end_time=e.finished_at?moment(e.finished_at).format("h:mm:ss A"):!1,e.total_time=null!==e.runtime?e.runtime:!1,this.$el.html(this.template(e)),this}})}(jQuery);var app=app||{};!function(e){e(".command-list table").sortable({containerSelector:"table",itemPath:"> tbody",itemSelector:"tr",placeholder:'<tr class="placeholder"/>',delay:500,onDrop:function(t,a,s){s(t,a);var i=[];e("tbody tr td:first-child",a.el[0]).each(function(t,a){i.push(e(a).data("command-id"))}),e.ajax({url:"/commands/reorder",method:"POST",data:{commands:i}})}});var t;e("#command").on("hidden.bs.modal",function(e){t.destroy()}),e("#command").on("show.bs.modal",function(a){var s=e(a.relatedTarget),i=e(this),n=Lang.create;t=ace.edit("command_script"),t.getSession().setMode("ace/mode/sh"),e(".btn-danger",i).hide(),e(".callout-danger",i).hide(),e(".has-error",i).removeClass("has-error"),s.hasClass("btn-edit")?(n=Lang.edit,e(".btn-danger",i).show()):(e("#command_id").val(""),e("#command_step").val(s.data("step")),e("#command_name").val(""),t.setValue(""),t.gotoLine(1),e("#command_user").val(""),e("#command_optional").val(""),e(".command-server").prop("checked",!0)),i.find(".modal-title span").text(n)}),e("#command button.btn-delete").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-trash"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=app.Commands.get(e("#command_id").val());n.destroy({wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),app.Commands.remove(n)},error:function(){s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),e("#command button.btn-save").on("click",function(a){var s=e(a.currentTarget),i=s.find("i"),n=s.parents(".modal");i.addClass("fa-refresh fa-spin").removeClass("fa-save"),n.find(":input").attr("disabled","disabled"),e("button.close",n).hide();var o=e("#command_id").val();if(o)var r=app.Commands.get(o);else var r=new app.Command;var l=[];e(".command-server:checked").each(function(){l.push(e(this).val())}),r.save({name:e("#command_name").val(),script:t.getValue(),user:e("#command_user").val(),step:e("#command_step").val(),project_id:e('input[name="project_id"]').val(),servers:l,optional:e("#command_optional").is(":checked")},{wait:!0,success:function(a,s,r){n.modal("hide"),e(".callout-danger",n).hide(),i.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",n).show(),n.find(":input").removeAttr("disabled"),o||app.Commands.add(s),t.setValue(""),t.gotoLine(1)},error:function(t,a,s){e(".callout-danger",n).show();var o=a.responseJSON;e("form input",n).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),i.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",n).show(),n.find(":input").removeAttr("disabled")}})}),app.Command=Backbone.Model.extend({urlRoot:"/commands",defaults:function(){return{order:app.Commands.nextOrder()}},isAfter:function(){return parseInt(this.get("step"))%3===0}});var a=Backbone.Collection.extend({model:app.Command,comparator:"order",nextOrder:function(){return this.length?this.last().get("order")+1:1}});app.Commands=new a,app.CommandsTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$beforeList=e("#commands-before .command-list tbody"),this.$afterList=e("#commands-after .command-list tbody"),e(".no-commands").show(),e(".command-list").hide(),this.listenTo(app.Commands,"add",this.addOne),this.listenTo(app.Commands,"reset",this.addAll),this.listenTo(app.Commands,"all",this.render)},render:function(){var t=app.Commands.find(function(e){return!e.isAfter()});"undefined"!=typeof t?(e("#commands-before .no-commands").hide(),e("#commands-before .command-list").show()):(e("#commands-before .no-commands").show(),e("#commands-before .command-list").hide());var a=app.Commands.find(function(e){return e.isAfter()});"undefined"!=typeof a?(e("#commands-after .no-commands").hide(),e("#commands-after .command-list").show()):(e("#commands-after .no-commands").show(),e("#commands-after .command-list").hide())},addOne:function(e){var t=new app.CommandView({model:e});e.isAfter()?this.$afterList.append(t.render().el):this.$beforeList.append(t.render().el)},addAll:function(){this.$beforeList.html(""),this.$afterList.html(""),app.Commands.each(this.addOne,this)}}),app.CommandView=Backbone.View.extend({tagName:"tr",events:{"click .btn-edit":"editCommand"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#command-template").html())},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this},editCommand:function(){e("#command_id").val(this.model.id),e("#command_step").val(this.model.get("step")),e("#command_name").val(this.model.get("name")),e("#command_script").text(this.model.get("script")),e("#command_user").val(this.model.get("user")),e("#command_optional").prop("checked",this.model.get("optional")===!0),e(".command-server").prop("checked",!1),e(this.model.get("servers")).each(function(t,a){e("#command_server_"+a.id).prop("checked",!0)})}})}(jQuery);var app=app||{};!function(e){e("#user").on("show.bs.modal",function(t){var a=e(t.relatedTarget),s=e(this),i=Lang.create;e(".btn-danger",s).hide(),e(".callout-danger",s).hide(),e(".existing-only",s).hide(),e(".new-only",s).hide(),e(".has-error",s).removeClass("has-error"),a.hasClass("btn-edit")?(i=Lang.edit,e(".btn-danger",s).show(),e(".existing-only",s).show()):(e("#user_id").val(""),e("#user_name").val(""),e("#user_email").val(""),e("#user_password").val(""),e("#user_password_confirmation").val(""),e(".new-only",s).show()),s.find(".modal-title span").text(i)}),e("#user button.btn-delete").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-trash"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=app.Users.get(e("#user_id").val());n.destroy({wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),app.Users.remove(n)},error:function(){s.removeClass("fa-refresh fa-spin").addClass("fa-trash"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),e("#user button.btn-save").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-save"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=e("#user_id").val();if(n)var o=app.Users.get(n);else var o=new app.User;o.save({name:e("#user_name").val(),email:e("#user_email").val(),password:e("#user_password").val(),password_confirmation:e("#user_password_confirmation").val()},{wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),n||app.Users.add(a)},error:function(t,a,n){e(".callout-danger",i).show();var o=a.responseJSON;e("form input",i).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),app.User=Backbone.Model.extend({urlRoot:"/admin/users",poller:!1,initialize:function(){}});var t=Backbone.Collection.extend({model:app.User});app.Users=new t,app.UsersTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$list=e("#user_list tbody"),this.listenTo(app.Users,"add",this.addOne),this.listenTo(app.Users,"reset",this.addAll),this.listenTo(app.Users,"all",this.render)},addOne:function(e){var t=new app.UserView({model:e});this.$list.append(t.render().el)},addAll:function(){this.$list.html(""),app.Servers.each(this.addOne,this)}}),app.UserView=Backbone.View.extend({tagName:"tr",events:{"click .btn-edit":"editUser"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#user-template").html())},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this},editUser:function(){e("#user_id").val(this.model.id),e("#user_name").val(this.model.get("name")),e("#user_email").val(this.model.get("email"))}})}(jQuery);var app=app||{};if(function(e){e("#group").on("show.bs.modal",function(t){var a=e(t.relatedTarget),s=e(this),i=Lang.create;e(".btn-danger",s).hide(),e(".callout-danger",s).hide(),e(".has-error",s).removeClass("has-error"),a.hasClass("btn-edit")?(i=Lang.edit,e(".btn-danger",s).show()):(e("#group_id").val(""),e("#group_name").val("")),s.find(".modal-title span").text(i)}),e("#group button.btn-save").on("click",function(t){var a=e(t.currentTarget),s=a.find("i"),i=a.parents(".modal");s.addClass("fa-refresh fa-spin").removeClass("fa-save"),i.find("input").attr("disabled","disabled"),e("button.close",i).hide();var n=e("#group_id").val();if(n)var o=app.Groups.get(n);else var o=new app.Group;o.save({name:e("#group_name").val()},{wait:!0,success:function(t,a,o){i.modal("hide"),e(".callout-danger",i).hide(),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled"),n||app.Groups.add(a)},error:function(t,a,n){e(".callout-danger",i).show();var o=a.responseJSON;e("form input",i).each(function(t,a){a=e(a);var s=a.attr("name");"undefined"!=typeof o[s]&&a.parent("div").addClass("has-error")}),s.removeClass("fa-refresh fa-spin").addClass("fa-save"),e("button.close",i).show(),i.find("input").removeAttr("disabled")}})}),app.Group=Backbone.Model.extend({urlRoot:"/admin/groups",poller:!1,initialize:function(){}});var t=Backbone.Collection.extend({model:app.Group});app.Groups=new t,app.GroupsTab=Backbone.View.extend({el:"#app",events:{},initialize:function(){this.$list=e("#group_list tbody"),this.listenTo(app.Groups,"add",this.addOne),this.listenTo(app.Groups,"reset",this.addAll),this.listenTo(app.Groups,"all",this.render)},addOne:function(e){var t=new app.GroupView({model:e});this.$list.append(t.render().el)},addAll:function(){this.$list.html(""),app.Servers.each(this.addOne,this)}}),app.GroupView=Backbone.View.extend({tagName:"tr",events:{"click .btn-edit":"editGroup"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.template=_.template(e("#group-template").html())},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this},editGroup:function(){e("#group_id").val(this.model.id),e("#group_name").val(this.model.get("name"))}})}(jQuery),"undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!0,enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa fa-minus",open:"fa fa-plus",remove:"fa fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){var e=$.AdminLTE.options;$.AdminLTE.layout.activate(),$.AdminLTE.tree(".sidebar"),e.navbarMenuSlimscroll&&"undefined"!=typeof $.fn.slimscroll&&$(".navbar .menu").slimscroll({height:"200px",alwaysVisible:!1,size:"3px"}).css("width","100%"),e.sidebarPushMenu&&$.AdminLTE.pushMenu(e.sidebarToggleSelector),e.enableBSToppltip&&$(e.BSTooltipSelector).tooltip(),e.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),e.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),e.directChat.enable&&$(e.directChat.contactToggleSelector).click(function(){var e=$(this).parents(".direct-chat").first();e.toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var e=$(this);$(this).find(".btn").click(function(t){e.find(".btn.active").removeClass("active"),$(this).addClass("active"),t.preventDefault()})})}),$.AdminLTE.layout={activate:function(){var e=this;e.fix(),e.fixSidebar(),$(window,".wrapper").resize(function(){e.fix(),e.fixSidebar()})},fix:function(){var e=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),t=$(window).height(),a=$(".sidebar").height();$("body").hasClass("fixed")?$(".content-wrapper, .right-side").css("min-height",t-$(".main-footer").outerHeight()):t>=a?$(".content-wrapper, .right-side").css("min-height",t-e):$(".content-wrapper, .right-side").css("min-height",a)},fixSidebar:function(){return $("body").hasClass("fixed")?("undefined"==typeof $.fn.slimScroll&&console&&console.error("Error: the fixed layout requires the slimscroll plugin!"),void($.AdminLTE.options.sidebarSlimScroll&&"undefined"!=typeof $.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimscroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"})))):void("undefined"!=typeof $.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto"))}},$.AdminLTE.pushMenu=function(e){var t=this.options.screenSizes;$(e).click(function(e){e.preventDefault(),$(window).width()>t.sm-1?$("body").toggleClass("sidebar-collapse"):$("body").hasClass("sidebar-open")?($("body").removeClass("sidebar-open"),$("body").removeClass("sidebar-collapse")):$("body").addClass("sidebar-open")}),$(".content-wrapper").click(function(){$(window).width()<=t.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")})},$.AdminLTE.tree=function(e){var t=this;$("li a",$(e)).click(function(e){var a=$(this),s=a.next();if(s.is(".treeview-menu")&&s.is(":visible"))s.slideUp("normal",function(){s.removeClass("menu-open")}),s.parent("li").removeClass("active");else if(s.is(".treeview-menu")&&!s.is(":visible")){var i=a.parents("ul").first(),n=i.find("ul:visible").slideUp("normal");n.removeClass("menu-open");var o=a.parent("li");s.slideDown("normal",function(){s.addClass("menu-open"),i.find("li.active").removeClass("active"),o.addClass("active"),t.layout.fix()})}s.is(".treeview-menu")&&e.preventDefault()})},$.AdminLTE.boxWidget={activate:function(){var e=$.AdminLTE.options,t=this;$(e.boxWidgetOptions.boxWidgetSelectors.collapse).click(function(e){e.preventDefault(),t.collapse($(this))}),$(e.boxWidgetOptions.boxWidgetSelectors.remove).click(function(e){e.preventDefault(),t.remove($(this))})},collapse:function(e){var t=e.parents(".box").first(),a=t.find(".box-body, .box-footer");t.hasClass("collapsed-box")?(e.children(".fa-plus").removeClass("fa-plus").addClass("fa-minus"),a.slideDown(300,function(){t.removeClass("collapsed-box")})):(e.children(".fa-minus").removeClass("fa-minus").addClass("fa-plus"),a.slideUp(300,function(){t.addClass("collapsed-box")}))},remove:function(e){var t=e.parents(".box").first();t.slideUp()},options:$.AdminLTE.options.boxWidgetOptions},function(e){e.fn.boxRefresh=function(t){function a(e){e.append(n),i.onLoadStart.call(e)}function s(e){e.find(n).remove(),i.onLoadDone.call(e)}var i=e.extend({trigger:".refresh-btn",source:"",onLoadStart:function(e){},onLoadDone:function(e){}},t),n=e('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""===i.source)return void(console&&console.log("Please specify a source first - boxRefresh()"));var t=e(this),n=t.find(i.trigger).first();n.click(function(e){e.preventDefault(),a(t),t.find(".box-body").load(i.source,function(){s(t)})})})}}(jQuery),function(e){e.fn.todolist=function(t){var a=e.extend({onCheck:function(e){},onUncheck:function(e){}},t);return this.each(function(){"undefined"!=typeof e.fn.iCheck?(e("input",this).on("ifChecked",function(t){var s=e(this).parents("li").first();s.toggleClass("done"),a.onCheck.call(s)}),e("input",this).on("ifUnchecked",function(t){var s=e(this).parents("li").first();s.toggleClass("done"),a.onUncheck.call(s)})):e("input",this).on("change",function(t){var s=e(this).parents("li").first();s.toggleClass("done"),a.onCheck.call(s)})})}}(jQuery);